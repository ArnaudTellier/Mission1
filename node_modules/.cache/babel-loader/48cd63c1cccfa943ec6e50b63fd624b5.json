{"ast":null,"code":"import axiosInstance from \"../config/axios\";\nimport jwtDecode from \"jwt-decode\";\n\nconst register = (username, password, firstname, lastname) => {\n  return axiosInstance.post(\"inscription\", {\n    \"username\": username,\n    \"password\": password,\n    \"firstname\": firstname,\n    \"lastname\": lastname\n  });\n};\n\nconst logIn = async (username, password) => {\n  const response = await axiosInstance.post(\"login.php\", {\n    username: 'username',\n    password: 'password'\n  });\n  return response.data.token;\n};\n\nconst logOut = () => {\n  localStorage.removeItem(\"token\");\n};\n\nconst isAuthenticated = () => {\n  const token = localStorage.getItem(\"token\");\n\n  if (token) {\n    const payload = jwtDecode(token);\n    return payload.exp * 1000 > new Date().getTime();\n  }\n\n  return false;\n};\n\nexport default {\n  logIn,\n  logOut,\n  isAuthenticated,\n  register\n};","map":{"version":3,"sources":["C:/Users/arnau/Documents/Projets/afterwork/front/src/services/AuthAPI.js"],"names":["axiosInstance","jwtDecode","register","username","password","firstname","lastname","post","logIn","response","data","token","logOut","localStorage","removeItem","isAuthenticated","getItem","payload","exp","Date","getTime"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,iBAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,EAAmBC,SAAnB,EAA6BC,QAA7B,KAA0C;AACvD,SAAON,aAAa,CACfO,IADE,CACG,aADH,EACkB;AAAC,gBAAWJ,QAAZ;AAAqB,gBAAWC,QAAhC;AAAyC,iBAAYC,SAArD;AAA+D,gBAAWC;AAA1E,GADlB,CAAP;AAEH,CAHD;;AAKA,MAAME,KAAK,GAAG,OAAOL,QAAP,EAAgBC,QAAhB,KAA6B;AACvC,QAAMK,QAAQ,GAAG,MAAMT,aAAa,CAC/BO,IADkB,CACb,WADa,EACA;AACfJ,IAAAA,QAAQ,EAAE,UADK;AAEfC,IAAAA,QAAQ,EAAE;AAFK,GADA,CAAvB;AAKA,SAAOK,QAAQ,CAACC,IAAT,CAAcC,KAArB;AAEH,CARD;;AAUA,MAAMC,MAAM,GAAG,MAAM;AACjBC,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACH,CAFD;;AAKA,MAAMC,eAAe,GAAG,MAAM;AAC1B,QAAMJ,KAAK,GAAGE,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIL,KAAJ,EAAW;AACP,UAAMM,OAAO,GAAGhB,SAAS,CAACU,KAAD,CAAzB;AACA,WAAOM,OAAO,CAACC,GAAR,GAAc,IAAd,GAAqB,IAAIC,IAAJ,GAAWC,OAAX,EAA5B;AACH;;AACD,SAAO,KAAP;AACH,CAPD;;AAWA,eAAe;AAAEZ,EAAAA,KAAF;AAASI,EAAAA,MAAT;AAAiBG,EAAAA,eAAjB;AAAkCb,EAAAA;AAAlC,CAAf","sourcesContent":["import axiosInstance from \"../config/axios\";\r\nimport jwtDecode from \"jwt-decode\"\r\n\r\nconst register = (username,password,firstname,lastname) => {\r\n    return axiosInstance\r\n        .post(\"inscription\", {\"username\":username,\"password\":password,\"firstname\":firstname,\"lastname\":lastname})\r\n}\r\n\r\nconst logIn = async (username,password) => {\r\n    const response = await axiosInstance\r\n        .post(\"login.php\", {\r\n            username: 'username',\r\n            password: 'password'\r\n        });\r\n    return response.data.token;\r\n        \r\n}\r\n\r\nconst logOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n}\r\n\r\n\r\nconst isAuthenticated = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n        const payload = jwtDecode(token);\r\n        return payload.exp * 1000 > new Date().getTime();\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\n\r\nexport default { logIn, logOut, isAuthenticated, register };"]},"metadata":{},"sourceType":"module"}